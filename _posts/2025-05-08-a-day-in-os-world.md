---
layout: post
title: A day in the Open Source world.
date: 2025-05-08
tags:
- FOSS
- Tech
---

# A day in the Open Source world.

I was tinkering with one of the [PR](https://github.com/knadh/listmonk/issues/2234) in Listmonk(An open source newsletter subscription manager) for feature that pulls out all the tags across the lists of subscribers to show in the dropdown when the user adds a new tag in Lists. I suggested technical solution for this use case by pulling all the tags from the table, compressing it and sending it as a API response to the frontend. In frontend, make it as a searchable drop down by using Fuse.js. 

Fuse.js is a lightweight fuzzy search js library which uses [bitap](https://en.wikipedia.org/wiki/Bitap_algorithm) algorithm and is closely related to Levenshtein algorithm. To see how these algorithms helps with fuzzy search, I was exploring through these algorithms and trying few code snippets to tweak with fuzzy search. 

As the time passed, my little one woke from the nap and we went around playing ball and watching rain. It's the month of May, a peak summer time and here in our hometown the weather plays in and out game with scorching sun during daytime and heavy downpour in the evening. Rainfall in our town means mandatory power cut and we all sit in the verandah at our home, watching the water fall through pipe. My father was ranting about climate change and how this rain in the month of May affects the mango harvest. Randomly the word "May" striked me that it is MaintainersMonth in FOSS United where they post about the story of each project and its maintainers. I checked my mobile to find that the project for that day is Dictpress, maintained by [knadh](https://nadh.in/), who also maintains Listmonk. Its web app that helps you to build, publish a fast searchable any language dictionary . Suddenly i started to think about how the searchable part in this dictionary is handled and somehow felt this could give me clue on best ways to figure out solution for my Listmonk PR. With a 4 year old kid hopping around I don't get longer timeframes to process such thoughts. So i usually have set of 2 notebooks with me always. One for all my technical learning and other for all my personal works. I scribbled my thoughts and went back again to play. 

After our dinner and story telling time we winded down for sleep. Still the fuzzy search part was occupied in my brain and I started to tinker with Dictpress. Digging through an OS project is more like searching through old trunks or almirahs for me. There may be surprise waiting for you. On digging through that project, I figured out that in order to support fuzzy search, this project uses a phonetic algorithm. Dictpress is a project to support dictionary in any language. Olam, an online malayalam dictionary and Alar, an online Kannada dictionary are created through dictpress. I read from [here](https://zerodha.tech/blog/alar-the-making-of-an-open-source-dictionary/) to know the backstory behind this library.  To support search in these language dictionaries, phonetic tokenisation algorithm KLPhone(Kannada) and MLPhone(Malayalam) supporting this language is added.  While simple stemming of the word can be used as tokens to support search, this project Alar and Olam both use phonetic tokenisation algorithm that takes into account the pronunciation's of word and show similar sounding words in the search. This made me try my hands on creating a phonetic tokenisation algorithm for my mother tongue Tamil. Taking inspirations from KLPhone and MLPhone I went ahead and started creating one. I can speak, read and write Tamil, while i can't do any of that in Malayalam and Kannada. So with reference to those algorithm, I tried creating one for Tamil. So I started with adding vowels(Uyir Ezhuthugal), consonants(Mei Ezhuthugal), Modifiers (Kombu) and Compounds( Mei Ezhuthu Serkai). Two striking thing i noticed on this process is 
1. Malayalam has a special consonant letters marked as Chillus with dedicated unicode characters. 
2. Compounds in Tamil are two individual characters while both in Malayalam and Kannada it is all single character. While its two individual consonants, the second consonants modify the sound of the first one in Tamil. For example, the combination of **க்** (k) + **ச** (ch) becomes **க்‌ச** (kcha), which is a compound consonant sound. This differs from just writing **க்** and **ச** separately. So adding this mapping with frequent compounds takes into account the sound and hence improve the phonetic tokenisation part well.  
Through the entire process of going through the KLPhone, MLPhone and trying to create my own TMPhone, I am surprised to learn about beautiful elements that each languages support uniquely. In some way it felt like its simple and straightforward to express phonetic algorithm for Tamil.  Vowels, consonants, compounds and modifiers all follow a simple pattern and phonetical expression seems clean. May be I am biased here as I am a native speaker.

SideNote: It's not mandatory to write and plug a phonetic algorithm for creating a dictionary in Dictpress. The docs suggested ways like simple stemming or non-phonetic algorithm. This tokenisation of the word is persisted in db along with the word entry and used for searching through [tsvector](https://www.postgresql.org/docs/current/datatype-textsearch.html) in postgres. Postgres has in built support for stemming for full text search and offered support for about 29 languages. I found that Tamil is one of the supported languages in Postgres and went to dig deeper to figure out how Tamil is supported in this list. Postgres discussion [thread](https://www.postgresql.org/message-id/20180925114506.GA14666@zakirov.localdomain) took me to another repo snowball system, through which Postgres supports this stemming. On digging deeper into snowball system, I found a tamil person has [contributed](https://github.com/snowballstem/snowball/pull/3) to this library to include support for the language. My day ended in a satisfied way and once again I affirmed that FOSS is wonderful. :)
